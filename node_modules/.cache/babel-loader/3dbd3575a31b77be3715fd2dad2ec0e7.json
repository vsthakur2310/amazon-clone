{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\V.S. Thakur\\\\Documents\\\\pro\\\\amazon-clone\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\V.S. Thakur\\\\Documents\\\\pro\\\\amazon-clone\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import Product from\"./Product\";export var initialState={cart:[]};//Selector\nexport var getCartTotal=function getCartTotal(cart){return cart===null||cart===void 0?void 0:cart.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_CART\":return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),[action.item])});case\"REMOVE_FROM_CART\"://   return {\n//     ...state,\n//     cart: state.cart.filter(item => item.id !== action.id)\n//   }\nvar index=state.cart.findIndex(function(cartItem){return cartItem.id===action.id;});var newCart=_toConsumableArray(state.cart);if(index>=0){newCart.splice(index,1);}else{console.warn(\"cant remove Product (id: ${action.id}) as its not in cart\");}return _objectSpread(_objectSpread({},state),{},{cart:newCart});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["C:/Users/V.S. Thakur/Documents/pro/amazon-clone/amazon-clone/src/reducer.js"],"names":["Product","initialState","cart","getCartTotal","reduce","amount","item","price","reducer","state","action","console","log","type","index","findIndex","cartItem","id","newCart","splice","warn","user"],"mappings":"mYAAA,MAAOA,CAAAA,OAAP,KAAoB,WAApB,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,CAC1BC,IAAI,CAAE,EADoB,CAArB,CAIP;AAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACD,IAAD,QAC1BA,CAAAA,IAD0B,SAC1BA,IAD0B,iBAC1BA,IAAI,CAAEE,MAAN,CAAa,SAACC,MAAD,CAASC,IAAT,QAAkBA,CAAAA,IAAI,CAACC,KAAL,CAAaF,MAA/B,EAAb,CAAoD,CAApD,CAD0B,EAArB,CAGP,GAAMG,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAQA,MAAM,CAACG,IAAf,EACE,IAAK,aAAL,CACE,sCACKJ,KADL,MAEEP,IAAI,8BAAMO,KAAK,CAACP,IAAZ,GAAkBQ,MAAM,CAACJ,IAAzB,EAFN,GAKF,IAAK,kBAAL,CACE;AACA;AACA;AACA;AACA,GAAMQ,CAAAA,KAAK,CAAGL,KAAK,CAACP,IAAN,CAAWa,SAAX,CACZ,SAACC,QAAD,QAAcA,CAAAA,QAAQ,CAACC,EAAT,GAAgBP,MAAM,CAACO,EAArC,EADY,CAAd,CAGA,GAAIC,CAAAA,OAAO,oBAAOT,KAAK,CAACP,IAAb,CAAX,CAEA,GAAIY,KAAK,EAAI,CAAb,CAAgB,CACdI,OAAO,CAACC,MAAR,CAAeL,KAAf,CAAsB,CAAtB,EACD,CAFD,IAEO,CACLH,OAAO,CAACS,IAAR,CACE,2DADF,EAGD,CAED,sCACOX,KADP,MAEIP,IAAI,CAAEgB,OAFV,GAKA,IAAK,UAAL,CACI,sCACOT,KADP,MAEIY,IAAI,CAACX,MAAM,CAACW,IAFhB,GAMN,QACE,MAAOZ,CAAAA,KAAP,CAtCJ,CAwCD,CA1CD,CA4CA,cAAeD,CAAAA,OAAf","sourcesContent":["import Product from \"./Product\";\r\n\r\nexport const initialState = {\r\n  cart: [],\r\n};\r\n\r\n//Selector\r\n\r\nexport const getCartTotal = (cart) =>\r\n  cart?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nconst reducer = (state, action) => {\r\n  console.log(action);\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, action.item],\r\n      };\r\n\r\n    case \"REMOVE_FROM_CART\":\r\n      //   return {\r\n      //     ...state,\r\n      //     cart: state.cart.filter(item => item.id !== action.id)\r\n      //   }\r\n      const index = state.cart.findIndex(\r\n        (cartItem) => cartItem.id === action.id\r\n      );\r\n      let newCart = [...state.cart];\r\n\r\n      if (index >= 0) {\r\n        newCart.splice(index, 1);\r\n      } else {\r\n        console.warn(\r\n          \"cant remove Product (id: ${action.id}) as its not in cart\"\r\n        )\r\n      }\r\n\r\n      return {\r\n          ...state,\r\n          cart: newCart\r\n      }\r\n     \r\n      case \"SET_USER\":\r\n          return {\r\n              ...state,\r\n              user:action.user\r\n          }\r\n\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n"]},"metadata":{},"sourceType":"module"}